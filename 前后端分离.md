视频：

<https://www.bilibili.com/video/BV137411B7vB?from=search&seid=16735870179242273809>

![1585636746571](C:\Users\HC\AppData\Roaming\Typora\typora-user-images\1585636746571.png)

# 前端

IDEA中Vue安装及使用

<https://blog.csdn.net/CCIEJohn_zhou/article/details/89043500>



启动：  cnpm run dev



<https://www.cnblogs.com/miaSlady/p/10179355.html>

安装axios ：  cnpm install --save axios 

安装node_modules:   cnpm install



删除node_modules：

npm install rimraf -g
rimraf node_modules





安装element-ui：

cnpm i element-ui -S



element-ui的使用：<https://www.jb51.net/article/134949.htm>

main.js

~~~vue
import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'
Vue.use(ElementUI)
~~~





用axios请求后端数据，如果请求成功会输出 'aaa'，如果请求失败会报错

~~~vue
<template>
  <div>
    {{msg}}

  </div>
</template>

<script>

    import axios from 'axios'
    export default {
        name: "Login",
        data(){
            return {
                msg:'Login ....'
            }
               
        },
        created() {

            axios.post('http://localhost:8081/test')
                .then(response => (console.log(response.data)))
                .catch(function (error) { // 请求失败处理
                    console.log(error);
                });
        }


    }
</script>

<style scoped>

</style>

~~~





# 后端

端口

~~~yml
server:
  port: 8081
~~~



controller层,先测试能不能输入值

~~~java
@RestController
public class TestController {
    @RequestMapping("/test")
    public String test() {
        return "aaa";
    }
}
~~~





解决前后端交互的跨域问题：

<https://segmentfault.com/a/1190000018018849>

@Configuration
public class CrosConfig implements WebMvcConfigurer {

    @Override
    public void addCorsMappings(CorsRegistry registry) {
    
        registry.addMapping("/**")
                .allowedOrigins("*")
                .allowedMethods("POST", "GET", "PUT", "OPTIONS", "DELETE")
                .allowCredentials(true)
                .allowedHeaders("*")
                .maxAge(3600);
    }
}













app.vue



~~~veu
<template>
  <div id="app">


<!--    <router-link to="/login">Login页面</router-link>-->
<!--    <router-link to="/routertest">routertest页面</router-link>-->

    <router-view/>
  </div>
</template>

<script>
export default {
  name: 'App'
}
</script>

<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>

~~~



# VueRouter



执行过程：

输入<http://localhost:8080/>，在 index.js 里面的路由表中的 Index 页面会被放在 App.vue 中的 <router-view></router-view> 中；然后 pageOne 页面(因为重定向)显示在 Index.vue 中的 <router-view></router-view> ，点击相应的导航栏都会被放在router-view这里。



ps：只有一个主页面，先加载主页面，主页面加载时加载了index，pageOne相当于index里面的 view

## App.vue

~~~vue
<template>

  <router-view></router-view>
</template>


<script>
    export default {
        name: 'App'
    }
</script>

<style>
  #app {
    font-family: 'Avenir', Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    margin-top: 60px;
  }
</style>

~~~



## index.js

创建四个 .vue

~~~js
import Vue from 'vue'
import Router from 'vue-router'


import Login from '@/components/Login'
import Routertest from '@/components/Routertest'
import PageOne from '@/components/PageOne'
import PageTwo from '@/components/PageTwo'
import Index from '@/components/index';



Vue.use(Router)

export default new Router({
  routes: [
    {
      path: '/',
      name: '导航1',
      redirect :'/pageOne',
      component: Index,
      children : [ {
        path :'/pageOne',
        name :'页面1',
        component: PageOne
      },
        {
          path: '/pageTwo',
          name: '页面2',
          component: PageTwo,

        }]
    },
    {
      path: '/nav',
      name :'导航2',
      component :Index,
      children : [
        {
        path :'/login',
        name :'页面3',
        component: Login
        },
        {
          path: '/routertest',
          name: '页面4',
          component: Routertest
        }]
    }


    ]
})


~~~



## index.vue

~~~vue
<template>
  <el-container style="height: 500px; border: 1px solid #eee">
 <el-aside width="200px" style="background-color: rgb(238, 241, 246)">

   <el-menu router :default-openeds="['0','1']">
       <el-submenu v-for="(item,index) in $router.options.routes" :index="index+''">
         <template slot="title"><i class="el-icon-message"></i>{{item.name}}</template>
         <el-menu-item v-for="(item2,index2) in item.children" :index="item2.path" :class="$route.path==item2.path?'is-active':''">{{item2.name}}</el-menu-item>
       </el-submenu>
   </el-menu>

 </el-aside>

 <el-container>


   <el-main>
     <router-view></router-view>
   </el-main>
 </el-container>
</el-container>
</template>

<script>
    export default {
        name: "index"
    }
</script>

<style scoped>

</style>

~~~





## main.js

~~~js
// The Vue build version to load with the `import` command
// (runtime-only or standalone) has been set in webpack.base.conf with an alias.
import Vue from 'vue'
import App from './App'
import router from './router'
import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'
Vue.use(ElementUI)

Vue.config.productionTip = false

/* eslint-disable no-new */
new Vue({
  el: '#app',
  router,
  components: { App },
  template: '<App/>'
})

~~~

